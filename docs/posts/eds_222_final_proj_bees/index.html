<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.5.57">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Joshua Paul Cohen">
<meta name="dcterms.date" content="2024-12-13">
<meta name="description" content="A data analysis of the effect of California’s pesticide use on Anthophila richness.">

<title>Pesticides and Bee Biodiversity at the Golden Coast – Joshua Paul Cohen</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../">
<link href="../../images/my-favicon.png" rel="icon" type="image/png">
<script src="../../site_libs/quarto-html/quarto.js"></script>
<script src="../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting-dark.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="dark">
<link href="../../site_libs/quarto-contrib/fontawesome6-0.1.0/all.css" rel="stylesheet">
<link href="../../site_libs/quarto-contrib/fontawesome6-0.1.0/latex-fontsize.css" rel="stylesheet">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>
<meta name="quarto:status" content="draft">


</head>

<body class="nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top quarto-banner"><div id="quarto-draft-alert" class="alert alert-warning"><i class="bi bi-pencil-square"></i>Draft</div>
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a href="../../index.html" class="navbar-brand navbar-brand-logo">
    <img src="../../website_icon_cropped.PNG" alt="cute silk moth" class="navbar-logo">
    </a>
    <a class="navbar-brand" href="../../index.html">
    <span class="navbar-title">Joshua Paul Cohen</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" role="menu" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item">
    <a class="nav-link" href="../../index.html"> 
<span class="menu-text">Home</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../about.html"> 
<span class="menu-text">About</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../resources.html"> 
<span class="menu-text">Resources</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../posts.html"> 
<span class="menu-text">Posts</span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
            <div class="quarto-navbar-tools">
</div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<header id="title-block-header" class="quarto-title-block default page-columns page-full">
  <div class="quarto-title-banner page-columns page-full">
    <div class="quarto-title column-page-left">
      <h1 class="title">Pesticides and Bee Biodiversity at the Golden Coast</h1>
                  <div>
        <div class="description">
          A data analysis of the effect of California’s pesticide use on Anthophila richness.
        </div>
      </div>
                          <div class="quarto-categories">
                <div class="quarto-category">Bees</div>
                <div class="quarto-category">Pesticides</div>
                <div class="quarto-category">R</div>
                <div class="quarto-category">Geospatial</div>
                <div class="quarto-category">Statistics</div>
              </div>
                  </div>
  </div>
    
  <div class="quarto-title-meta-author column-page-left">
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-heading">Affiliation</div>
    
      <div class="quarto-title-meta-contents">
      <p class="author"><a href="https://silkiemoth.github.io/">Joshua Paul Cohen</a> </p>
    </div>
    <div class="quarto-title-meta-contents">
          <p class="affiliation">
              MEDS
            </p>
        </div>
    </div>

  <div class="quarto-title-meta column-page-left">

        
      <div>
      <div class="quarto-title-meta-heading">Published</div>
      <div class="quarto-title-meta-contents">
        <p class="date">December 13, 2024</p>
      </div>
    </div>
    
      
    </div>
    
  
  </header><div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-full page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#introduction" id="toc-introduction" class="nav-link active" data-scroll-target="#introduction">Introduction</a>
  <ul class="collapse">
  <li><a href="#key-highlights" id="toc-key-highlights" class="nav-link" data-scroll-target="#key-highlights">Key Highlights</a></li>
  </ul></li>
  <li><a href="#data" id="toc-data" class="nav-link" data-scroll-target="#data">Data</a>
  <ul class="collapse">
  <li><a href="#big-bee-extending-anthophila-research-through-image-and-trait-digitization" id="toc-big-bee-extending-anthophila-research-through-image-and-trait-digitization" class="nav-link" data-scroll-target="#big-bee-extending-anthophila-research-through-image-and-trait-digitization">Big Bee: Extending Anthophila Research Through Image and Trait Digitization</a></li>
  <li><a href="#california-dpr-annual-pesticide-summaries" id="toc-california-dpr-annual-pesticide-summaries" class="nav-link" data-scroll-target="#california-dpr-annual-pesticide-summaries">California DPR Annual Pesticide Summaries</a></li>
  <li><a href="#california-public-land-survey-system" id="toc-california-public-land-survey-system" class="nav-link" data-scroll-target="#california-public-land-survey-system">California Public Land Survey System</a></li>
  <li><a href="#california-county-population-totals" id="toc-california-county-population-totals" class="nav-link" data-scroll-target="#california-county-population-totals">California County Population Totals</a></li>
  <li><a href="#magnitude-of-habitat-fragmentation-by-terrestrial-ecoregion" id="toc-magnitude-of-habitat-fragmentation-by-terrestrial-ecoregion" class="nav-link" data-scroll-target="#magnitude-of-habitat-fragmentation-by-terrestrial-ecoregion">Magnitude of Habitat Fragmentation by Terrestrial Ecoregion</a></li>
  <li><a href="#usgs-2023-land-cover-conus" id="toc-usgs-2023-land-cover-conus" class="nav-link" data-scroll-target="#usgs-2023-land-cover-conus">USGS 2023 Land Cover (CONUS)</a></li>
  </ul></li>
  <li><a href="#analysis-plan" id="toc-analysis-plan" class="nav-link" data-scroll-target="#analysis-plan">Analysis Plan</a></li>
  <li><a href="#citations" id="toc-citations" class="nav-link" data-scroll-target="#citations">Citations</a>
  <ul class="collapse">
  <li><a href="#in-text" id="toc-in-text" class="nav-link" data-scroll-target="#in-text">In Text</a></li>
  <li><a href="#data-1" id="toc-data-1" class="nav-link" data-scroll-target="#data-1">Data</a></li>
  </ul></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content quarto-banner-title-block column-page-left" id="quarto-document-content">





<section id="introduction" class="level1">
<h1>Introduction</h1>
<p>Bees and other pollinators are extremely valuable for the ecosystem services they provide. Yet, throughout the past few decades, they have declined in both population and biodiversity (Goulson et al, 2015). Attributed factors are invasive parasites (Meeus et al, 2011), climate change (Soroye, Newbold, &amp; Kerr, 2020), habitat destruction (and fragmentation (Aizen &amp; Feinsinger, 1994), and pesticide use (Arena &amp; Sgolastra, 2014).</p>
<p>Several factor’s make California an ideal microcosm to analyze the effect of pesticides on bee biodiversity. * The state’s 1989 Food Safety Act requires uniquely high standards for reporting (California DPR, 2023). Pesticide use datasets out of CA are therefore large and highly detailed. * CA is size means it has many different ecosystems contained within the same political boundaries. * CA is a agricultural hotspot in the country, meaning there are areas of intensive pesticide use.</p>
<p>Therefore in this analysis, we will be analyzing pesticide use. Later, we attempt to introduce other variables such as population density, habitat fragmentation, and land use to see if there is a significant effect.</p>
<section id="key-highlights" class="level2">
<h2 class="anchored" data-anchor-id="key-highlights">Key Highlights</h2>
<ul>
<li>Creation of an error model between biodiversity and pesticide use.</li>
<li>Creation of multiple linear models to detect significant correlations between variables.</li>
</ul>
</section>
</section>
<section id="data" class="level1">
<h1>Data</h1>
<section id="big-bee-extending-anthophila-research-through-image-and-trait-digitization" class="level3">
<h3 class="anchored" data-anchor-id="big-bee-extending-anthophila-research-through-image-and-trait-digitization">Big Bee: Extending Anthophila Research Through Image and Trait Digitization</h3>
<ul>
<li>Description
<ul>
<li>A large data base containing 4 million+ records of bee occurrence data for 5000+ unique species, along with attribute data.</li>
<li>Compilation of multiple databases.</li>
<li>Format: csv with latitude/longitude columns.</li>
<li>Contains observations from around the world, and from as early as the 19th century.</li>
<li>Led by Katja Seltmann, a researcher associated with the Cheadle Center for Biodiversity and Restoration at UCSB.</li>
<li>Overarching goal is to compile bee attribute data (body length, flight range, etc) for as many species as possible into one place.</li>
</ul></li>
<li>Limitations
<ul>
<li>Spatially biased: most observations are located near areas of high population</li>
<li>Dirty data: A compilation approach to sampling leads to inconsistent data structure with many NAs.</li>
<li>No absence data.</li>
<li>Includes citizen science data, increasing chance of possible misidentification.</li>
</ul></li>
<li>Subset in this analysis
<ul>
<li>Data from the past 5 years in all of California.</li>
</ul></li>
<li>Access
<ul>
<li>Data is downloadable from <a href="https://library.big-bee.net/portal/collections/map/index.php">the map section of the Big Bee Library</a>.</li>
<li>Must choose a subset to download, can subset by location, taxa, time, observer/collector, and more.</li>
</ul></li>
</ul>
</section>
<section id="california-dpr-annual-pesticide-summaries" class="level3">
<h3 class="anchored" data-anchor-id="california-dpr-annual-pesticide-summaries">California DPR Annual Pesticide Summaries</h3>
<ul>
<li>Description
<ul>
<li>In accordance with the Food Safety Act of 1989.</li>
<li>Contains data for products, active ingredients, amounts, locations, etc.</li>
<li>Format: comma delineated .txt files.</li>
</ul></li>
<li>Limitations
<ul>
<li>Does not contain spatial information, only analyzable spatially through joining.</li>
</ul></li>
<li>Subset in this analysis
<ul>
<li>All available data from 2017.</li>
</ul></li>
<li>Access Data is downloadable from <a href="https://www.cdpr.ca.gov/docs/pur/purmain.htm">California DPR’s Pesticide Use Reporting page</a>.</li>
</ul>
</section>
<section id="california-public-land-survey-system" class="level3">
<h3 class="anchored" data-anchor-id="california-public-land-survey-system">California Public Land Survey System</h3>
<ul>
<li>Description
<ul>
<li>Shapefile associated with the pesticide use data</li>
<li>Contains polygons for all CA townships.</li>
</ul></li>
<li>Limitations
<ul>
<li>Pesticide data does not contains a joinable column for township, only joinable by county.</li>
</ul></li>
<li>Access
<ul>
<li>See pesticide use data.</li>
</ul></li>
</ul>
</section>
<section id="california-county-population-totals" class="level3">
<h3 class="anchored" data-anchor-id="california-county-population-totals">California County Population Totals</h3>
<ul>
<li>Description
<ul>
<li>Excel file containing population estimates for years 2020 to 2023 by county in CA.</li>
<li>Yearly estimates calculated by last year’s census estimate + births - deaths + immigration - emigration, and adjusted for demographic info.</li>
<li>Reported as being very accurate by the Census Bureau</li>
</ul></li>
<li>Access
<ul>
<li>Data is downloadable from the <a href="https://www.census.gov/data/datasets/time-series/demo/popest/2020s-counties-total.html">U.S Census Bureau website</a>.</li>
</ul></li>
</ul>
</section>
<section id="magnitude-of-habitat-fragmentation-by-terrestrial-ecoregion" class="level3">
<h3 class="anchored" data-anchor-id="magnitude-of-habitat-fragmentation-by-terrestrial-ecoregion">Magnitude of Habitat Fragmentation by Terrestrial Ecoregion</h3>
<ul>
<li>Description
<ul>
<li>Developed by The Nature Conservancy.</li>
<li>Shapefile delineating “ecoregions” based on “fragmenting features”.</li>
<li>Global scale.</li>
<li>Features considered include agriculture, urban development, roads, and railroads.</li>
<li>Contains fields for eco region ID codes, ecoregion type, total area and perimeter, and a habitat fragmentation index.</li>
<li>Contains 827 unique types.</li>
</ul></li>
<li>Limitations
<ul>
<li>Polygons are large relative to CA, making analysis on a statewide scale unwieldy.</li>
</ul></li>
<li>Subset in this analysis
<ul>
<li>All polygon’s intersecting CA.</li>
</ul></li>
<li>Access
<ul>
<li>Data is downloadable from <a href="https://databasin.org/datasets/f88b2b0d922642e689864cbd3409c177/">it’s page on databasin.org</a>.</li>
</ul></li>
</ul>
</section>
<section id="usgs-2023-land-cover-conus" class="level3">
<h3 class="anchored" data-anchor-id="usgs-2023-land-cover-conus">USGS 2023 Land Cover (CONUS)</h3>
<ul>
<li>Description
<ul>
<li>Land cover classification types.</li>
<li>16 different classification types for water, development, forest/grassland, marsh, barren land, and agriculture.</li>
<li>CONUS stands for Conterminous United States.</li>
</ul></li>
<li>Limitations
<ul>
<li>Extremely large, and designed for a county wide scale. Needed to be aggregated to be worked with on a state wide scale</li>
<li>Aggregation caused distortion in classification values.</li>
</ul></li>
<li>Access
<ul>
<li>Data is downloadable from <a href="https://www.usgs.gov/centers/eros/science/data-access">it’s page on the official USGS website</a>.</li>
<li>It is possible to subset the data by uploading a county shapefile <a href="https://www.mrlc.gov/viewer/">in the MRLC Viewer</a>, then download each county individually, but this was not done due to time restrictions.</li>
</ul></li>
</ul>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="figs/solano_land_cover.png" title="Solano County land type distribution." class="img-fluid quarto-figure quarto-figure-center figure-img"></p>
</figure>
</div>
</section>
</section>
<section id="analysis-plan" class="level1">
<h1>Analysis Plan</h1>
</section>
<section id="citations" class="level1">
<h1>Citations</h1>
<section id="in-text" class="level3">
<h3 class="anchored" data-anchor-id="in-text">In Text</h3>
<p>Goulson, D., Nicholls, E., Botías, C., &amp; Rotheray, E. L. (2015). Bee declines driven by combined stress from parasites, pesticides, and lack of flowers. Science, 347(6229), 1255957.</p>
<p>California Department of Pesticide Regulation. (2023, January). PESTICIDE USE ANNUAL REPORT. https://www.cdpr.ca.gov/docs/pur/pur_history_background.pdf</p>
<p>Meeus, I., Brown, M. J. F., de Graaf, D. C., &amp; Smagghe, G. (2011). Effects of invasive parasites on bumble bee declines. Conservation Biology, 25(4), 662-671. https://doi.org/10.1111/j.1523-1739.2011.01707.x</p>
<p>Soroye, P., Newbold, T., &amp; Kerr, J. (2020). Climate change contributes to widespread declines among bumble bees across continents. Science, 367(6478), 685-688.</p>
<p>Aizen, M. A., &amp; Feinsinger, P. (1994). Habitat fragmentation, native insect pollinators, and feral honey bees in Argentine’Chaco Serrano’. Ecological applications, 4(2), 378-392.</p>
<p>Arena, M., &amp; Sgolastra, F. (2014). A meta-analysis comparing the sensitivity of bees to pesticides. Ecotoxicology, 23, 324-334.</p>
</section>
<section id="data-1" class="level3">
<h3 class="anchored" data-anchor-id="data-1">Data</h3>
<p>Seltmann KC, Allen J, Brown BV, Carper A, Engel MS, Franz N, Gilbert E, Grinter C, Gonzalez VH, Horsley P, Lee S, Maier C, Miko I, Morris P, Oboyski P, Pierce NE, Poelen J, Scott VL, Smith M, Talamas EJ, Tsutsui ND, Tucker E (2021) Announcing Big-Bee: An initiative to promote understanding of bees through image and trait digitization. Biodiversity Information Science and Standards 5: e74037. https://doi.org/10.3897/biss.5.74037</p>
<p>California Department of Pesticide Regulation. (2017). Pesticide use reporting (PUR). California Environmental Protection Agency. Retrieved from https://www.cdpr.ca.gov/docs/pur/purmain.htm</p>
<p>U.S. Census Bureau (2024). County Population Totals and Components of Change: 2020-2023 Retrieved from https://www.census.gov/data/datasets/time-series/demo/popest/2020s-counties-total.html</p>
<p>Hoekstra, J. M., Molnar, J. L., Jennings, M., Revenga, C., Spalding, M. D., Boucher, T. M., Robertson, J. C., Heibel, T. J., &amp; Ellison, K. (2010). The atlas of global conservation: Changes, challenges, and opportunities to make a difference. J. L. Molnar (Ed.). Berkeley: University of California Press.</p>
<p>Earth Resources Observation and Science Center (2024). Annual National Land Cover Database. U.S. Geological Survey. Retrieved from https://www.usgs.gov/centers/eros/science/data-access</p>


</section>
</section>

<div id="quarto-appendix" class="default"><section class="quarto-appendix-contents" id="quarto-citation"><h2 class="anchored quarto-appendix-heading">Citation</h2><div><div class="quarto-appendix-secondary-label">BibTeX citation:</div><pre class="sourceCode code-with-copy quarto-appendix-bibtex"><code class="sourceCode bibtex">@online{paul_cohen2024,
  author = {Paul Cohen, Joshua},
  title = {Pesticides and {Bee} {Biodiversity} at the {Golden} {Coast}},
  date = {2024-12-13},
  url = {https://silkiemoth.github.io/},
  langid = {en}
}
</code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre><div class="quarto-appendix-secondary-label">For attribution, please cite this work as:</div><div id="ref-paul_cohen2024" class="csl-entry quarto-appendix-citeas" role="listitem">
Paul Cohen, Joshua. 2024. <span>“Pesticides and Bee Biodiversity at the
Golden Coast.”</span> December 13, 2024. <a href="https://silkiemoth.github.io/">https://silkiemoth.github.io/</a>.
</div></div></section></div></main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    // For code content inside modals, clipBoardJS needs to be initialized with a container option
    // TODO: Check when it could be a function (https://github.com/zenorocha/clipboard.js/issues/860)
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->
<footer class="footer">
  <div class="nav-footer">
    <div class="nav-footer-left">
<p>No Copyright, Feel free to distribute.</p>
</div>   
    <div class="nav-footer-center">
      &nbsp;
    </div>
    <div class="nav-footer-right">
<p>This website is built with <i class="fa-brands fa-github" title="the octocat github icon" aria-label="github"></i></p>
</div>
  </div>
</footer>




</body></html>